"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[339],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>m});var o=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=o.createContext({}),d=function(e){var t=o.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=d(e.components);return o.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},c=o.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,s=e.parentName,p=a(e,["components","mdxType","originalType","parentName"]),c=d(n),m=i,f=c["".concat(s,".").concat(m)]||c[m]||u[m]||r;return n?o.createElement(f,l(l({ref:t},p),{},{components:n})):o.createElement(f,l({ref:t},p))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,l=new Array(r);l[0]=c;var a={};for(var s in t)hasOwnProperty.call(t,s)&&(a[s]=t[s]);a.originalType=e,a.mdxType="string"==typeof e?e:i,l[1]=a;for(var d=2;d<r;d++)l[d]=n[d];return o.createElement.apply(null,l)}return o.createElement.apply(null,n)}c.displayName="MDXCreateElement"},1703:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>u,frontMatter:()=>r,metadata:()=>a,toc:()=>d});var o=n(7462),i=(n(7294),n(3905));const r={},l="Size limits",a={unversionedId:"troubleshooting/no-space-left-on-device",id:"troubleshooting/no-space-left-on-device",title:"Size limits",description:"Cyclic builds and deploys apps using serverless technologies. The build environment has 10 GB of space to use to install your dependencies and devDependencies, then build your code bundle.",source:"@site/docs/troubleshooting/no-space-left-on-device.md",sourceDirName:"troubleshooting",slug:"/troubleshooting/no-space-left-on-device",permalink:"/troubleshooting/no-space-left-on-device",draft:!1,editUrl:"https://github.com/cyclic-software/docs/blob/main/docs/troubleshooting/no-space-left-on-device.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Main entry point does not exist",permalink:"/troubleshooting/main-entry-point-does-not-exist"},next:{title:"Nodemon",permalink:"/troubleshooting/nodemon"}},s={},d=[{value:"Bundle limit",id:"bundle-limit",level:2},{value:"Error message",id:"error-message",level:3},{value:"Solution",id:"solution",level:3},{value:"Build environment limit",id:"build-environment-limit",level:2},{value:"Error message",id:"error-message-1",level:2},{value:"Solution",id:"solution-1",level:3}],p={toc:d};function u(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,o.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"size-limits"},"Size limits"),(0,i.kt)("p",null,"Cyclic builds and deploys apps using serverless technologies. The build environment has 10 GB of space to use to install your ",(0,i.kt)("inlineCode",{parentName:"p"},"dependencies")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"devDependencies"),", then build your code bundle.\nThe built bundle may not exceed 240 MB."),(0,i.kt)("h2",{id:"bundle-limit"},"Bundle limit"),(0,i.kt)("p",null,"The size of the packaged code that is deployed is limited to 240 MB. By default any generated files and the entire repo contents are packaged. "),(0,i.kt)("p",null,"Several SPA frameworks (including React) by default include build time tools in standard generated ",(0,i.kt)("inlineCode",{parentName:"p"},"dependencies"),". If you move these to ",(0,i.kt)("inlineCode",{parentName:"p"},"devDependencies")," you will most likely resolve any space issues."),(0,i.kt)("h3",{id:"error-message"},"Error message"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-code"},"2021-12-06 10:49:49: [CYCLIC] ERROR: The total size of the post-build project code and\n production dependencies cannot exceed 240MB. The total size of your build is ${mb} MB\n")),(0,i.kt)("p",null,"If you get an error in the deploy log that says ",(0,i.kt)("inlineCode",{parentName:"p"},"production dependencies cannot exceed 240MB"),", here is how to fix."),(0,i.kt)("h3",{id:"solution"},"Solution"),(0,i.kt)("p",null,"Currently the code size is limited to 240MB. Fortunately, most projects are can to be optimized by appropriately organizing dependencies and excluding unnecessary files from the build. "),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"remove any unused dependencies"),(0,i.kt)("li",{parentName:"ul"},"move any dev dependencies to ",(0,i.kt)("inlineCode",{parentName:"li"},"devDependencies")),(0,i.kt)("li",{parentName:"ul"},"add file patterns to an ",(0,i.kt)("inlineCode",{parentName:"li"},".npmignore")," file to exclude them from the build")),(0,i.kt)("admonition",{type:"tip"},(0,i.kt)("mdxAdmonitionTitle",{parentName:"admonition"},(0,i.kt)("inlineCode",{parentName:"mdxAdmonitionTitle"},".npmignore")," uses the same syntax as ",(0,i.kt)("inlineCode",{parentName:"mdxAdmonitionTitle"},".gitignore")),(0,i.kt)("p",{parentName:"admonition"},"Read more about ",(0,i.kt)("a",{href:"https://www.atlassian.com/git/tutorials/saving-changes/gitignore",target:"_blank"},"ignoring path patterns"))),(0,i.kt)("h2",{id:"build-environment-limit"},"Build environment limit"),(0,i.kt)("p",null,"The build environment has 10 GB disk and 10 GB RAM available for temporary use to run installation and build ",(0,i.kt)("inlineCode",{parentName:"p"},"npm")," scripts defined in the repos ",(0,i.kt)("inlineCode",{parentName:"p"},"package.json"),"."),(0,i.kt)("h2",{id:"error-message-1"},"Error message"),(0,i.kt)("p",null,"If your space requirements exceed these amounts, while running the install or step you will see a ",(0,i.kt)("inlineCode",{parentName:"p"},"No space left on device")," error."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-code"},"fatal: cannot create directory at 'some_large_file.txt': No space left on device\n2021-12-06 10:49:49: [CYCLIC] Build Failed\nPush a new commit to start another.\n")),(0,i.kt)("h3",{id:"solution-1"},"Solution"),(0,i.kt)("p",null,"The only resolution at this time is to trim your dependencies or devDependencies."))}u.isMDXComponent=!0}}]);